(this["webpackJsonpbasic-counter-in-solodity-and-react"]=this["webpackJsonpbasic-counter-in-solodity-and-react"]||[]).push([[0],{109:function(f){f.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"Counter","sourceName":"src/contracts/Counter.sol","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"eventType","type":"string"},{"indexed":false,"internalType":"int256","name":"prevCounter","type":"int256"},{"indexed":false,"internalType":"int256","name":"newCounter","type":"int256"},{"indexed":false,"internalType":"address","name":"userAddress","type":"address"}],"name":"CounterChanged","type":"event"},{"inputs":[],"name":"counter","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decrement","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"increment","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"value","type":"int256"}],"name":"setCounter","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x608060405273390abc4148351a1570da3b0e8f9c56aea071bf76600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503480156100c857600080fd5b5060008081905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663426005af30336040518363ffffffff1660e01b815260040161012d929190610173565b600060405180830381600087803b15801561014757600080fd5b505af115801561015b573d6000803e3d6000fd5b505050506101ce565b61016d8161019c565b82525050565b60006040820190506101886000830185610164565b6101956020830184610164565b9392505050565b60006101a7826101ae565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b61069b806101dd6000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80632baeceb71461005c57806361bc221a1461006657806393d9df1614610084578063d09de08a146100a0578063d826f88f146100aa575b600080fd5b6100646100b4565b005b61006e61010f565b60405161007b9190610367565b60405180910390f35b61009e60048036038101906100999190610220565b610115565b005b6100a8610163565b005b6100b26101be565b005b60008054905060016000546100c9919061054f565b6000819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a38816000543360405161010493929190610382565b60405180910390a150565b60005481565b600080549050816000819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a38816000543360405161015793929190610460565b60405180910390a15050565b600080549050600160005461017891906104bb565b6000819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a3881600054336040516101b393929190610416565b60405180910390a150565b600080549050600080819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a388160005433604051610200939291906103cc565b60405180910390a150565b60008135905061021a8161064e565b92915050565b60006020828403121561023257600080fd5b60006102408482850161020b565b91505092915050565b610252816105e3565b82525050565b610261816105f5565b82525050565b60006102746009836104aa565b91507f64656372656d656e7400000000000000000000000000000000000000000000006000830152602082019050919050565b60006102b46005836104aa565b91507f72657365740000000000000000000000000000000000000000000000000000006000830152602082019050919050565b60006102f46009836104aa565b91507f696e6372656d656e7400000000000000000000000000000000000000000000006000830152602082019050919050565b6000610334600a836104aa565b91507f736574436f756e746572000000000000000000000000000000000000000000006000830152602082019050919050565b600060208201905061037c6000830184610258565b92915050565b6000608082019050818103600083015261039b81610267565b90506103aa6020830186610258565b6103b76040830185610258565b6103c46060830184610249565b949350505050565b600060808201905081810360008301526103e5816102a7565b90506103f46020830186610258565b6104016040830185610258565b61040e6060830184610249565b949350505050565b6000608082019050818103600083015261042f816102e7565b905061043e6020830186610258565b61044b6040830185610258565b6104586060830184610249565b949350505050565b6000608082019050818103600083015261047981610327565b90506104886020830186610258565b6104956040830185610258565b6104a26060830184610249565b949350505050565b600082825260208201905092915050565b60006104c6826105f5565b91506104d1836105f5565b9250817f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0383136000831215161561050c5761050b61061f565b5b817f80000000000000000000000000000000000000000000000000000000000000000383126000831216156105445761054361061f565b5b828201905092915050565b600061055a826105f5565b9150610565836105f5565b9250827f8000000000000000000000000000000000000000000000000000000000000000018212600084121516156105a05761059f61061f565b5b827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0182136000841216156105d8576105d761061f565b5b828203905092915050565b60006105ee826105ff565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b610657816105f5565b811461066257600080fd5b5056fea2646970667358221220b2c11ce26afc50399556d034428204e5494251050fedd7b5b0bc07e04892e7a464736f6c63430008000033","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100575760003560e01c80632baeceb71461005c57806361bc221a1461006657806393d9df1614610084578063d09de08a146100a0578063d826f88f146100aa575b600080fd5b6100646100b4565b005b61006e61010f565b60405161007b9190610367565b60405180910390f35b61009e60048036038101906100999190610220565b610115565b005b6100a8610163565b005b6100b26101be565b005b60008054905060016000546100c9919061054f565b6000819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a38816000543360405161010493929190610382565b60405180910390a150565b60005481565b600080549050816000819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a38816000543360405161015793929190610460565b60405180910390a15050565b600080549050600160005461017891906104bb565b6000819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a3881600054336040516101b393929190610416565b60405180910390a150565b600080549050600080819055507fc64cd25c753f31717fabaa1573f57fd04d663e4e715f61271479533578c62a388160005433604051610200939291906103cc565b60405180910390a150565b60008135905061021a8161064e565b92915050565b60006020828403121561023257600080fd5b60006102408482850161020b565b91505092915050565b610252816105e3565b82525050565b610261816105f5565b82525050565b60006102746009836104aa565b91507f64656372656d656e7400000000000000000000000000000000000000000000006000830152602082019050919050565b60006102b46005836104aa565b91507f72657365740000000000000000000000000000000000000000000000000000006000830152602082019050919050565b60006102f46009836104aa565b91507f696e6372656d656e7400000000000000000000000000000000000000000000006000830152602082019050919050565b6000610334600a836104aa565b91507f736574436f756e746572000000000000000000000000000000000000000000006000830152602082019050919050565b600060208201905061037c6000830184610258565b92915050565b6000608082019050818103600083015261039b81610267565b90506103aa6020830186610258565b6103b76040830185610258565b6103c46060830184610249565b949350505050565b600060808201905081810360008301526103e5816102a7565b90506103f46020830186610258565b6104016040830185610258565b61040e6060830184610249565b949350505050565b6000608082019050818103600083015261042f816102e7565b905061043e6020830186610258565b61044b6040830185610258565b6104586060830184610249565b949350505050565b6000608082019050818103600083015261047981610327565b90506104886020830186610258565b6104956040830185610258565b6104a26060830184610249565b949350505050565b600082825260208201905092915050565b60006104c6826105f5565b91506104d1836105f5565b9250817f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0383136000831215161561050c5761050b61061f565b5b817f80000000000000000000000000000000000000000000000000000000000000000383126000831216156105445761054361061f565b5b828201905092915050565b600061055a826105f5565b9150610565836105f5565b9250827f8000000000000000000000000000000000000000000000000000000000000000018212600084121516156105a05761059f61061f565b5b827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0182136000841216156105d8576105d761061f565b5b828203905092915050565b60006105ee826105ff565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b610657816105f5565b811461066257600080fd5b5056fea2646970667358221220b2c11ce26afc50399556d034428204e5494251050fedd7b5b0bc07e04892e7a464736f6c63430008000033","linkReferences":{},"deployedLinkReferences":{}}')},286:function(f){f.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"CounterRegistry","sourceName":"src/contracts/CounterRegistry.sol","abi":[{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"findUserContracts","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newContract","type":"address"},{"internalType":"address","name":"userAddress","type":"address"}],"name":"registerNewContract","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x608060405234801561001057600080fd5b506103cf806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063426005af1461003b5780637dcf04e514610057575b600080fd5b61005560048036038101906100509190610234565b610087565b005b610071600480360381019061006c919061020b565b61012a565b60405161007e91906102f5565b60405180910390f35b6000808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020829080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b60606000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156101ea57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116101a0575b50505050509050919050565b60008135905061020581610382565b92915050565b60006020828403121561021d57600080fd5b600061022b848285016101f6565b91505092915050565b6000806040838503121561024757600080fd5b6000610255858286016101f6565b9250506020610266858286016101f6565b9150509250929050565b600061027c8383610288565b60208301905092915050565b61029181610350565b82525050565b60006102a282610327565b6102ac818561033f565b93506102b783610317565b8060005b838110156102e85781516102cf8882610270565b97506102da83610332565b9250506001810190506102bb565b5085935050505092915050565b6000602082019050818103600083015261030f8184610297565b905092915050565b6000819050602082019050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600061035b82610362565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b61038b81610350565b811461039657600080fd5b5056fea2646970667358221220216ea0a76149c9fa348f363e6295e319fb2715c1ef70805d36e385597e37939c64736f6c63430008000033","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100365760003560e01c8063426005af1461003b5780637dcf04e514610057575b600080fd5b61005560048036038101906100509190610234565b610087565b005b610071600480360381019061006c919061020b565b61012a565b60405161007e91906102f5565b60405180910390f35b6000808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020829080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b60606000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156101ea57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116101a0575b50505050509050919050565b60008135905061020581610382565b92915050565b60006020828403121561021d57600080fd5b600061022b848285016101f6565b91505092915050565b6000806040838503121561024757600080fd5b6000610255858286016101f6565b9250506020610266858286016101f6565b9150509250929050565b600061027c8383610288565b60208301905092915050565b61029181610350565b82525050565b60006102a282610327565b6102ac818561033f565b93506102b783610317565b8060005b838110156102e85781516102cf8882610270565b97506102da83610332565b9250506001810190506102bb565b5085935050505092915050565b6000602082019050818103600083015261030f8184610297565b905092915050565b6000819050602082019050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600061035b82610362565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b61038b81610350565b811461039657600080fd5b5056fea2646970667358221220216ea0a76149c9fa348f363e6295e319fb2715c1ef70805d36e385597e37939c64736f6c63430008000033","linkReferences":{},"deployedLinkReferences":{}}')},331:function(f,e){},333:function(f,e){},335:function(f,e){},339:function(f,e){},366:function(f,e){},368:function(f,e){},377:function(f,e){},379:function(f,e){},389:function(f,e){},391:function(f,e){},509:function(f,e){},511:function(f,e){},518:function(f,e){},519:function(f,e){},613:function(f,e,t){"use strict";t.r(e);var n=t(682),a=t(675),c=t(0),r=t.n(c),s=t(62),b=t.n(s),o=t(61),i=t(683),d=t(287),u=Object(i.a)(Object(d.a)({palette:{mode:"dark"}})),l=t(9),j=t(22),p=t(673),h=t(31),O=t.n(h),x=t(72),m=t(273),v=t.n(m);var g=function(){var f=Object(c.useState)(),e=Object(l.a)(f,2),t=e[0],n=e[1],a=Object(c.useState)(),r=Object(l.a)(a,2),s=r[0],b=r[1],o=Object(c.useCallback)(Object(x.a)(O.a.mark((function f(){var e,t,a;return O.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(window.ethereum){f.next=2;break}return f.abrupt("return");case 2:return f.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return e=f.sent,f.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x4"}]});case 7:return t=e[0],a=new v.a(window.ethereum),n(a),b(t),a.currentProvider.on("accountsChanged",(function(){a.eth.getAccounts().then((function(f){b(f[0])}))})),a.currentProvider.on("disconnect",(function(){b(),n()})),f.abrupt("return",(function(){b(),n()}));case 14:case"end":return f.stop()}}),f)}))),[]);return Object(c.useEffect)((function(){o()}),[o]),{metamaskInstance:t,userAddress:s,isMetamaskDefined:(null===t||void 0===t?void 0:t.currentProvider.isMetaMask)&&!!s,userAddressDetailsUrl:"".concat("https://rinkeby.etherscan.io","/address/").concat(s),connectToMetamask:o}},y=t(686),C=t(684),k=t(688),w=t(685),A=t(282),D=t.n(A),M=t(676),S=t(667),L=t(280),E=t.n(L),T=t(281),I=t.n(T),U=t(2);var B=function(f){var e=f.address,t=f.ariaLabel,n=f.etherscanLink,a=f.showCopyIntoClipboardButton,r=f.iconSize,s=Object(c.useMemo)((function(){if(e){var f=e.slice(0,6),t=e.slice(36);return"".concat(f,"...").concat(t)}return e}),[e]);return Object(U.jsxs)(S.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:2,component:"span",children:[Object(U.jsx)(M.a,{title:e,children:Object(U.jsx)("span",{children:s})}),n&&Object(U.jsx)(M.a,{title:"Show ".concat(t," details on Etherscan"),children:Object(U.jsx)(C.a,{color:"primary","aria-label":"Show ".concat(t," details on Etherscan"),component:"a",href:n,target:"_blank",rel:"noopener",style:{marginLeft:0},children:Object(U.jsx)(E.a,{fontSize:r||"small"})})}),a&&Object(U.jsx)(M.a,{title:"Copy ".concat(t," to clipboard"),children:Object(U.jsx)(C.a,{color:"primary","aria-label":"Copy ".concat(t," to clipboard"),style:{marginLeft:0},onClick:function(){var f,t,n;return null===(f=navigator)||void 0===f||null===(t=f.clipboard)||void 0===t||null===(n=t.writeText)||void 0===n?void 0:n.call(t,e)},children:Object(U.jsx)(I.a,{fontSize:"small"})})})]})},H=t(681),R=Object(p.a)(H.a)({margin:8});var z=function(f){var e=f.onClick,t=f.children;return Object(U.jsx)(R,{onClick:e,variant:"contained",children:t})};var P=function(f){var e=f.userAddress,t=f.userAddressDetailsUrl,n=f.isMetamaskDefined,a=f.connectToMetamask,c=f.setIsMenuOpen;return Object(U.jsx)(V,{children:Object(U.jsxs)(N,{children:[Object(U.jsx)(C.a,{"aria-label":"open menu drawer",onClick:function(){return c((function(f){return!f}))},children:Object(U.jsx)(D.a,{})}),Object(U.jsx)(_,{children:n?Object(U.jsx)(w.a,{children:Object(U.jsx)(B,{address:e,ariaLabel:"your address",etherscanLink:t,showCopyIntoClipboardButton:!0,iconSize:"small"})}):Object(U.jsx)(z,{onClick:a,children:"Connect To Metamask"})})]})})},V=Object(p.a)(y.a)({height:"64px",display:"flex",flexDirection:"row"}),N=Object(p.a)(k.a)({display:"flex",flexGrow:1}),_=Object(p.a)("div")({flexGrow:1,display:"flex",justifyContent:"flex-end"}),F=t(687),J=t.p+"static/media/Counter.1adb5094.sol",q=t(109),G="/Counter-in-Solidity",W="".concat(G,"/deploy-contract"),K="".concat(G,"/");var Q=function(f){var e=f.metamaskInstance,t=f.isMetamaskDefined,n=f.userAddress,a=f.getUserContractList,r=Object(j.g)(),s=Object(c.useState)(),b=Object(l.a)(s,2),o=b[0],i=b[1],d=Object(c.useState)(),u=Object(l.a)(d,2),p=u[0],h=u[1];return{deployContract:function(){t&&new e.eth.Contract(q.abi).deploy({data:q.bytecode}).send({from:n}).on("error",(function(f){console.log("Error: ",f)})).on("transactionHash",(function(f){console.log("transactionDeploymentHash: ",f),i(f)})).on("receipt",(function(f){console.log(f.contractAddress),h(f.contractAddress)})).then((function(f){console.log(f.options.address),i(),h(f.options.address),a(),r("".concat(K,"?contractAddress=").concat(f.options.address))}))},transactionDeploymentHash:o,isDeploymentLoading:!!o,contractAddress:p,transactionDeploymentUrl:"".concat("https://rinkeby.etherscan.io","/tx/").concat(o)}},X=t(689);var Y=function(f){var e=f.height,t=f.children;return Object(U.jsxs)(Z,{height:e,children:[Object(U.jsx)(X.a,{}),t?Object(U.jsx)($,{children:t}):null]})},Z=Object(p.a)("div",{shouldForwardProp:function(f){return"height"!==f}})((function(f){return{display:"flex",justifyContent:"center",alignItems:"center",height:f.height,flexDirection:"column"}})),$=Object(p.a)("div")({marginTop:"16px"});var ff=function(f){var e=f.metamaskInstance,t=f.isMetamaskDefined,n=f.userAddress,a=f.getUserContractList,r=Object(c.useState)(),s=Object(l.a)(r,2),b=s[0],o=s[1];Object(c.useEffect)((function(){fetch(J).then((function(f){return f.text()})).then((function(f){o(f)}))}),[]);var i=Q({metamaskInstance:e,isMetamaskDefined:t,userAddress:n,getUserContractList:a}),d=i.deployContract,u=i.transactionDeploymentHash,j=i.isDeploymentLoading,p=i.transactionDeploymentUrl;return Object(U.jsx)("main",{children:Object(U.jsxs)(ef,{children:[Object(U.jsx)(w.a,{component:"h2",variant:"h5",children:"Deploy your Counter Contract"}),j?Object(U.jsx)(Y,{height:"300px",children:Object(U.jsxs)("div",{children:[Object(U.jsx)(w.a,{children:" Deploying your Counter contract..."}),u&&Object(U.jsx)(B,{address:u,ariaLabel:"transaction deployment",etherscanLink:p})]})}):Object(U.jsxs)("div",{children:[Object(U.jsx)(tf,{children:Object(U.jsx)("code",{lang:"solidity",children:b||Object(U.jsx)(Y,{height:"300px"})})}),Object(U.jsx)(z,{onClick:d,children:"Deploy Counter"})]})]})})},ef=Object(p.a)(F.a)({padding:"16px"}),tf=Object(p.a)("pre")({margin:"16px auto;",textAlign:"left",backgroundColor:"#001e3c",padding:"16px",borderRadius:"4px",border:"1px solid #132f4c"}),nf=t(677),af=t(28);var cf=function(f,e,t,n){var a=Object(c.useState)(),r=Object(l.a)(a,2),s=r[0],b=r[1],o=Object(c.useState)(),i=Object(l.a)(o,2),d=i[0],u=i[1],j=Object(c.useState)([]),p=Object(l.a)(j,2),h=p[0],m=p[1],v=Object(c.useState)([]),g=Object(l.a)(v,2),y=g[0],C=g[1];Object(c.useEffect)((function(){if(e&&n){var t=new f.eth.Contract(q.abi,n);b(t)}return function(){b(),u(),m([]),C([])}}),[e,f,n]);var k=Object(c.useCallback)(Object(x.a)(O.a.mark((function f(){var e;return O.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(!s){f.next=11;break}return f.prev=1,f.next=4,s.methods.counter().call();case 4:e=f.sent,u(e),f.next=11;break;case 8:f.prev=8,f.t0=f.catch(1),b();case 11:case"end":return f.stop()}}),f,null,[[1,8]])}))),[s]),w=Object(c.useCallback)(Object(x.a)(O.a.mark((function f(){return O.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(s)try{s.getPastEvents("CounterChanged",{fromBlock:0,toBlock:"latest"},(function(f,e){m(e.reverse()),console.log(e),console.log(f)}))}catch(e){m([])}case 1:case"end":return f.stop()}}),f)}))),[s]);Object(c.useEffect)((function(){k()}),[k]),Object(c.useEffect)((function(){w()}),[w]);var A=Object(c.useCallback)((function(){s&&s.methods.increment().send({from:t}).on("transactionHash",(function(f){var e={id:f,isPending:!0,transactionHash:f,returnValues:{eventType:"increment",userAddress:t}};C((function(f){return[e].concat(Object(af.a)(f))}))}))}),[s,t]),D=Object(c.useCallback)((function(){s&&s.methods.decrement().send({from:t}).on("transactionHash",(function(f){var e={id:f,isPending:!0,transactionHash:f,returnValues:{eventType:"decrement",userAddress:t}};C((function(f){return[e].concat(Object(af.a)(f))}))}))}),[s,t]),M=Object(c.useCallback)((function(){s&&s.methods.reset().send({from:t}).on("transactionHash",(function(f){var e={id:f,isPending:!0,transactionHash:f,returnValues:{eventType:"reset",userAddress:t}};C((function(f){return[e].concat(Object(af.a)(f))}))}))}),[s,t]);Object(c.useEffect)((function(){s&&s.events.allEvents({event:"CounterChanged"}).on("data",(function(f){console.log("CounterChanged event: ",f),C((function(e){var t=e.filter((function(e){return f.transactionHash!==e.transactionHash}));return[f].concat(Object(af.a)(t))})),k()})).on("error",(function(f,e){console.log("CounterChanged error: ",f),k()}))}),[s,k]);var S=!!n&&!s,L="".concat("https://rinkeby.etherscan.io","/address/").concat(n);return{counter:d,pastEvents:h,newEvents:y,updateCounter:k,incrementCounter:A,decrementCounter:D,resetCounter:M,isCounterContractLoading:S,contractDetailsUrl:L}};var rf=function(f){var e=f.children;return Object(U.jsx)("div",{children:Object(U.jsx)(sf,{variant:"h2",component:"span",children:e})})},sf=Object(p.a)(w.a)((function(f){var e=f.theme;return{display:"inline-block",padding:"4px 8px",margin:"16px",backgroundColor:e.palette.grey[800],borderRadius:"4px",border:"1px solid",borderColor:e.palette.divider}})),bf=t(691),of=t(695),df=t(694),uf=t(690),lf=t(692),jf=t(693),pf=t(283),hf=t.n(pf),Of=t(284),xf=t.n(Of);var mf=function(f){var e=f.pastEvents,t=f.newEvents;return Object(U.jsx)(uf.a,{component:F.a,children:Object(U.jsxs)(bf.a,{"aria-label":"contract event table",children:[Object(U.jsx)(lf.a,{children:Object(U.jsxs)(jf.a,{children:[Object(U.jsx)(df.a,{align:"center",children:"Status"}),Object(U.jsx)(df.a,{align:"center",children:"Method"}),Object(U.jsx)(df.a,{align:"center",children:"User"}),Object(U.jsx)(df.a,{align:"center",children:"Value"}),Object(U.jsx)(df.a,{align:"left",children:"Transaction"})]})}),Object(U.jsx)(of.a,{children:[].concat(Object(af.a)(t),Object(af.a)(e)).map((function(f){return Object(U.jsxs)(jf.a,{children:[Object(U.jsx)(df.a,{align:"center",children:f.isPending?Object(U.jsx)(X.a,{size:24}):Object(U.jsx)(hf.a,{color:"success"})}),Object(U.jsx)(df.a,{align:"center",children:wf[f.returnValues.eventType]}),Object(U.jsx)(df.a,{align:"center",children:Object(U.jsx)(B,{address:f.returnValues.userAddress,ariaLabel:"user address",etherscanLink:"".concat("https://rinkeby.etherscan.io","/address/").concat(f.returnValues.userAddress),iconSize:"small"})}),Object(U.jsx)(df.a,{align:"center",children:f.returnValues.prevCounter||f.returnValues.newCounter?Object(U.jsxs)(S.a,{direction:"row",alignItems:"center",justifyContent:"center",children:[Object(U.jsx)(Af,{children:f.returnValues.prevCounter})," ",Object(U.jsx)(xf.a,{}),Object(U.jsx)(Af,{children:f.returnValues.newCounter})]}):Object(U.jsx)(Cf,{})}),Object(U.jsx)(df.a,{align:"center",children:Object(U.jsx)(B,{address:f.transactionHash,ariaLabel:"Counter transaction",etherscanLink:"".concat("https://rinkeby.etherscan.io","/tx/").concat(f.transactionHash),iconSize:"small"})})]},f.transactionHash)}))})]})})},vf=Object(p.a)("span")((function(f){var e=f.theme;return{backgroundColor:e.palette.success.dark,color:e.palette.success.contrastText,padding:"4px 8px",borderRadius:"4px"}})),gf=Object(p.a)("span")((function(f){var e=f.theme;return{backgroundColor:e.palette.warning.main,color:e.palette.warning.contrastText,padding:"4px 8px",borderRadius:"4px"}})),yf=Object(p.a)("span")((function(f){var e=f.theme;return{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,padding:"4px 8px",borderRadius:"4px"}}));function Cf(){return Object(U.jsx)(kf,{fontSize:"small",children:"Pending..."})}var kf=Object(p.a)(w.a)((function(f){var e=f.theme;return{backgroundColor:e.palette.warning.light,color:e.palette.warning.contrastText,padding:"4px  6px",borderRadius:"4px"}})),wf={increment:Object(U.jsx)(vf,{children:"Increment"}),decrement:Object(U.jsx)(gf,{children:"Decrement"}),reset:Object(U.jsx)(yf,{children:"Reset"})},Af=Object(p.a)(w.a)((function(f){var e=f.theme;return{display:"inline-block",padding:"2px 4px",margin:"4px",backgroundColor:e.palette.grey[800],borderRadius:"4px",border:"1px solid",borderColor:e.palette.divider}}));var Df=function(f){var e=f.metamaskInstance,t=f.isMetamaskDefined,n=f.userAddress,a=Object(o.c)(),r=Object(l.a)(a,2),s=r[0],b=r[1],i=Object(c.useState)((function(){return s.get("contractAddress")||"0xbe213Fabf804926a76209E68794DBaD9884BB9a9"})),d=Object(l.a)(i,2),u=d[0],j=d[1],p=Object(c.useState)(""),h=Object(l.a)(p,2),O=h[0],x=h[1],m=cf(e,t,n,O),v=m.counter,g=m.pastEvents,y=m.newEvents,C=m.incrementCounter,k=m.decrementCounter,A=m.resetCounter,D=m.isCounterContractLoading,M=m.contractDetailsUrl;return Object(c.useEffect)((function(){var f=s.get("contractAddress");f&&j(f)}),[s]),Object(c.useEffect)((function(){!!u&&(null===e||void 0===e?void 0:e.utils.isAddress(u))&&(b({contractAddress:u}),x(u))}),[u,e,b]),Object(U.jsxs)("div",{children:[Object(U.jsxs)(Mf,{children:[Object(U.jsx)(nf.a,{value:u,onChange:function(f){var e=f.target.value;j(e)},id:"contract-address-field",label:"Contract Address",variant:"standard",fullWidth:!0}),Object(U.jsxs)(Sf,{children:["Or you can Deploy your own Counter Smart Contract in the"," ",Object(U.jsx)(Ef,{to:W,children:"Deployment Page."})]})]}),Object(U.jsx)("main",{children:D?Object(U.jsx)("div",{children:"Loading contract..."}):O&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(Lf,{elevation:4,children:[Object(U.jsx)(w.a,{component:"h2",variant:"h4",gutterBottom:!0,children:"Counter Contract"}),Object(U.jsx)(w.a,{component:"h3",variant:"h6",gutterBottom:!0,children:Object(U.jsx)(B,{address:O,ariaLabel:"contract address",etherscanLink:M,showCopyIntoClipboardButton:!0,iconSize:"small"})}),Object(U.jsx)(rf,{children:v}),Object(U.jsxs)("div",{children:[Object(U.jsx)(H.a,{onClick:k,children:"Decrement"}),Object(U.jsx)(H.a,{onClick:A,children:"Reset"}),Object(U.jsx)(H.a,{onClick:C,children:"Increment"})]})]}),Object(U.jsx)(mf,{pastEvents:g,newEvents:y})]})})]})},Mf=Object(p.a)(F.a)({margin:"24px auto",padding:24}),Sf=Object(p.a)(w.a)({marginTop:"16px",textAlign:"left"}),Lf=Object(p.a)(F.a)({textAlign:"center",margin:"24px auto",padding:16}),Ef=Object(p.a)(o.b)({color:"rgb(102, 178, 255);"}),Tf=t(286),If="0x390AbC4148351a1570Da3B0E8F9c56AEa071Bf76";var Uf=function(f){var e=f.isMetamaskDefined,t=f.metamaskInstance,n=f.userAddress,a=Object(c.useState)([]),r=Object(l.a)(a,2),s=r[0],b=r[1],o=Object(c.useState)([]),i=Object(l.a)(o,2),d=i[0],u=i[1];Object(c.useEffect)((function(){if(e){var f=new t.eth.Contract(Tf.abi,If);u(f)}return function(){b([]),u()}}),[e,t]);var j=Object(c.useCallback)(Object(x.a)(O.a.mark((function f(){var e;return O.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(!d||!n){f.next=11;break}return f.prev=1,f.next=4,d.methods.findUserContracts(n).call();case 4:e=f.sent,b(e),f.next=11;break;case 8:f.prev=8,f.t0=f.catch(1),b([]);case 11:case"end":return f.stop()}}),f,null,[[1,8]])}))),[d,n]);return Object(c.useEffect)((function(){j()}),[j]),{contracts:s,getUserContractList:j}},Bf=t(680);var Hf=function(f){var e=f.isOpen,t=f.contracts,n=f.setIsMenuOpen;return Object(U.jsx)(Rf,{open:e,onOpen:function(){return n(!0)},onClose:function(){return n(!1)},children:Object(U.jsxs)(zf,{children:[Object(U.jsx)(w.a,{component:"p",variant:"h5",gutterBottom:!0,children:"User Contracts"}),t.map((function(f){return Object(U.jsxs)(Pf,{children:[Object(U.jsx)(B,{ariaLabel:"contract user address",address:f,etherscanLink:"".concat("https://rinkeby.etherscan.io","/address/").concat(f),iconSize:"small"}),Object(U.jsx)(Vf,{onClick:function(){n(!1)},to:"".concat(K,"?contractAddress=").concat(f),children:"Load Contract"})]},f)}))]})})},Rf=Object(p.a)(Bf.a)({textAlign:"center"}),zf=Object(p.a)("div")({width:"290px",padding:"24px 0"}),Pf=Object(p.a)("div")({display:"flex",justifyContent:"space-evenly",padding:"8px 12px",alignItems:"center"}),Vf=Object(p.a)(o.b)({fontSize:"12px",color:"rgb(102, 178, 255);"});var Nf=function(){var f=g(),e=f.metamaskInstance,t=f.isMetamaskDefined,n=f.userAddress,a=f.userAddressDetailsUrl,r=f.connectToMetamask,s=Uf({isMetamaskDefined:t,metamaskInstance:e,userAddress:n}),b=s.contracts,o=s.getUserContractList,i=Object(c.useState)(!1),d=Object(l.a)(i,2),u=d[0],p=d[1];return Object(U.jsxs)(_f,{children:[Object(U.jsx)(P,{userAddressDetailsUrl:a,userAddress:n,isMetamaskDefined:t,connectToMetamask:r,setIsMenuOpen:p}),Object(U.jsx)(Hf,{isOpen:u,setIsMenuOpen:p,contracts:b}),Object(U.jsx)(w.a,{component:"h1",variant:"h2",gutterBottom:!0,children:"Counter in Solidity"}),Object(U.jsxs)(j.d,{children:[Object(U.jsx)(j.b,{path:K,element:Object(U.jsx)(Df,{metamaskInstance:e,isMetamaskDefined:t,userAddress:n})}),Object(U.jsx)(j.b,{path:W,element:Object(U.jsx)(ff,{metamaskInstance:e,isMetamaskDefined:t,userAddress:n,getUserContractList:o})}),Object(U.jsx)(j.b,{path:"*",element:Object(U.jsx)(j.a,{to:K,replace:!0})})]})]})},_f=Object(p.a)("div")({margin:"82px auto 0 auto",maxWidth:"900px",textAlign:"center"});b.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsxs)(n.a,{theme:u,children:[Object(U.jsx)(a.a,{}),Object(U.jsx)(o.a,{children:Object(U.jsx)(Nf,{})})]})}),document.getElementById("root"))}},[[613,1,2]]]);
//# sourceMappingURL=main.ae06aafb.chunk.js.map