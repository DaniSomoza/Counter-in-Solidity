{"version":3,"sources":["theme/theme.js","hooks/useMetamask.js","components/AddressLabel.js","components/Header.js","contracts/Counter.sol","routes/routes.js","hooks/useContractDeployment.js","components/Loader.js","components/Button.js","routes/DeployContractPage.js","hooks/useCounterContract.js","components/CounterDisplay.js","routes/ContractPage.js","App.js","index.js"],"names":["customMuiTheme","createTheme","palette","mode","useMetamask","useState","metamaskInstance","setMetamaskInstance","userAddress","setUserAddress","useEffect","window","ethereum","Web3","loadUserAccount","a","eth","getAccounts","then","currentProvider","on","isMetamaskDefined","isMetaMask","userAddressDetailsUrl","process","AddressLabel","address","addressLabel","useMemo","firstPart","slice","lastPart","Tooltip","title","Header","HeaderContainer","StyledToolbar","Typography","Stack","direction","alignItems","spacing","component","IconButton","color","href","target","rel","style","marginLeft","fontSize","onClick","navigator","clipboard","writeText","styled","AppBar","height","Toolbar","display","justifyContent","maxWidth","width","margin","BASE_PATHNAME","DEPLOY_CONTRACT_PATH","HOME_PATH","useContractDeployment","navigate","useNavigate","transactionDeploymentHash","setTransactionDeploymentHash","contractAddress","setContractAddress","deployContract","Contract","CounterContractJSON","abi","deploy","data","bytecode","send","from","error","console","log","receipt","confirmationNumber","newContractInstance","options","isDeploymentLoading","transactionDeploymentUrl","Loader","children","LoaderContainer","CircularProgress","LabelContainer","shouldForwardProp","prop","props","flexDirection","marginTop","StyledButton","ButtonMui","Button","variant","DeployContractPage","contractCode","setContractCode","fetch","contractFile","r","text","StyledPaper","CodeContainer","lang","Paper","padding","textAlign","backgroundColor","borderRadius","border","useCounterContract","counterContract","setCounterContract","counter","setCounter","updateCounter","useCallback","methods","call","incrementCounter","increment","decrementCounter","decrement","resetCounter","reset","events","CounterChanged","isCounterContractLoading","contractDetailsUrl","CounterDisplay","ContractPage","useSearchParams","searchParams","setSearchParams","get","contractAddressInput","setContractAddressInput","utils","isAddress","StyledContainer","TextField","value","onChange","e","id","label","fullWidth","StyledText","StyledInternalLink","to","StyledCounterContainer","elevation","gutterBottom","Link","App","AppContainer","path","element","replace","ReactDOM","render","StrictMode","ThemeProvider","theme","CssBaseline","document","getElementById"],"mappings":"mjJAUeA,EAFQC,YANT,CACZC,QAAS,CACPC,KAAM,U,qEC6CKC,MA9Cf,WACE,MAAgDC,qBAAhD,mBAAOC,EAAP,KAAyBC,EAAzB,KACA,EAAsCF,qBAAtC,mBAAOG,EAAP,KAAoBC,EAApB,KAGAC,qBAAU,WACR,GAAKC,OAAOC,SAAZ,CAIA,IAAMN,EAAmB,IAAIO,IAAKF,OAAOC,UAEzCL,EAAoBD,MACnB,IAGHI,qBAAU,WAAO,SACAI,IADD,2EACd,sBAAAC,EAAA,sDACET,EAAiBU,IAAIC,cAAcC,MAAK,SAACV,GACvCC,EAAeD,EAAY,OAF/B,2CADc,wBAOVF,IACFQ,IAGAR,EAAiBa,gBAAgBC,GAAG,mBAAmB,WACrDN,UAGH,CAACR,IAEJ,IAAMe,GACY,OAAhBf,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBa,gBAAgBG,eAAgBd,EAE9Ce,EAAqB,UAAMC,+BAAN,oBAAqDhB,GAEhF,MAAO,CACLF,mBACAE,cACAa,oBACAE,0B,iGCvBWE,MAnBf,YAAoC,IAAZC,EAAW,EAAXA,QAChBC,EAAeC,mBAAQ,WAC3B,GAAIF,EAAS,CACX,IAAMG,EAAYH,EAAQI,MAAM,EAAG,GAC7BC,EAAWL,EAAQI,MAAM,IAE/B,MAAM,GAAN,OAAUD,EAAV,cAAyBE,GAG3B,OAAOL,IACN,CAACA,IAEJ,OACE,cAACM,EAAA,EAAD,CAASC,MAAOP,EAAhB,SACE,+BAAOC,OCyCEO,MA9Cf,YAA4E,IAA1D1B,EAAyD,EAAzDA,YAAae,EAA4C,EAA5CA,sBAAuBF,EAAqB,EAArBA,kBACpD,OACE,cAACc,EAAD,UACE,cAACC,EAAD,UACGf,EACC,cAACgB,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CACEC,UAAU,MACVC,WAAW,SACXC,QAAS,EACTC,UAAU,OAJZ,UAME,cAAC,EAAD,CAAchB,QAASlB,IAAgB,IACvC,cAACwB,EAAA,EAAD,CAASC,MAAM,yCAAf,SACE,cAACU,EAAA,EAAD,CACEC,MAAM,UACN,aAAW,yCACXF,UAAU,IACVG,KAAMtB,EACNuB,OAAO,SACPC,IAAI,WACJC,MAAO,CAAEC,WAAY,GAPvB,SASE,cAAC,IAAD,CAAcC,SAAS,cAG3B,cAAClB,EAAA,EAAD,CAASC,MAAM,iCAAf,SACE,cAACU,EAAA,EAAD,CACEC,MAAM,UACN,aAAW,iCACXI,MAAO,CAAEC,WAAY,GACrBE,QAAS,kBAAMC,UAAUC,UAAUC,UAAU9C,IAJ/C,SAME,cAAC,IAAD,CAAiB0C,SAAS,mBAMlC,yCASJf,EAAkBoB,YAAOC,IAAPD,CAAe,CACrCE,OAAQ,SAGJrB,EAAgBmB,YAAOG,IAAPH,CAAgB,CACpCI,QAAS,OACTC,eAAgB,WAChBC,SAAU,SACVC,MAAO,OACPC,OAAQ,W,SCrEK,MAA0B,oC,SCAnCC,EAAgBxC,uBAETyC,EAAoB,UAAMD,EAAN,oBACpBE,EAAS,UAAMF,EAAN,KC6DPG,MA3Df,SACE7D,EACAe,EACAb,GAEA,IAAM4D,EAAWC,cACjB,EAAkEhE,qBAAlE,mBAAOiE,EAAP,KAAkCC,EAAlC,KACA,EAA8ClE,qBAA9C,mBAAOmE,EAAP,KAAwBC,EAAxB,KA2CA,MAAO,CACLC,eA1CqB,WACjBrD,GACyB,IAAIf,EAAiBU,IAAI2D,SAClDC,EAAoBC,KAGnBC,OAAO,CACNC,KAAMH,EAAoBI,WAE3BC,KAAK,CACJC,KAAM1E,IAEPY,GAAG,SAAS,SAAU+D,GACrBC,QAAQC,IAAI,UAAWF,MAExB/D,GAAG,mBAAmB,SAAUkD,GAC/Bc,QAAQC,IAAI,8BAA+Bf,GAC3CC,EAA6BD,MAE9BlD,GAAG,WAAW,SAAUkE,GACvBF,QAAQC,IAAIC,EAAQd,iBACpBC,EAAmBa,EAAQd,oBAE5BpD,GAAG,gBAAgB,SAAUmE,EAAoBD,GAChDF,QAAQC,IAAI,uBAAwBE,MAErCrE,MAAK,SAAUsE,GACdJ,QAAQC,IAAIG,EAAoBC,QAAQ/D,SACxC6C,IACAE,EAAmBe,EAAoBC,QAAQ/D,SAC/C0C,EAAS,GAAD,OACHF,EADG,4BAC0BsB,EAAoBC,QAAQ/D,cAYpE4C,4BACAoB,sBAP4BpB,EAQ5BE,kBACAmB,yBAP4B,UAAMnE,+BAAN,eAAgD8C,K,SCzCjEsB,MATf,YAAuC,IAArBnC,EAAoB,EAApBA,OAAQoC,EAAY,EAAZA,SACxB,OACE,eAACC,EAAD,CAAiBrC,OAAQA,EAAzB,UACE,cAACsC,EAAA,EAAD,IACCF,EAAW,cAACG,EAAD,UAAiBH,IAA6B,SAO1DC,EAAkBvC,YAAO,MAAO,CACpC0C,kBAAmB,SAACC,GAAD,MAAmB,WAATA,IADP3C,EAErB,SAAC4C,GAAD,MAAY,CACbxC,QAAS,OACTC,eAAgB,SAChBpB,WAAY,SACZiB,OAAQ0C,EAAM1C,OACd2C,cAAe,aAGXJ,EAAiBzC,YAAO,MAAPA,CAAc,CACnC8C,UAAW,S,SCtBPC,EAAe/C,YAAOgD,IAAPhD,CAAkB,CACrCQ,OAAQ,IAWKyC,MARf,YAAwC,IAAtBrD,EAAqB,EAArBA,QAAS0C,EAAY,EAAZA,SACzB,OACE,cAACS,EAAD,CAAcnD,QAASA,EAASsD,QAAQ,YAAxC,SACGZ,KC+CQa,MA/Cf,YAII,IAHFpG,EAGC,EAHDA,iBACAe,EAEC,EAFDA,kBACAb,EACC,EADDA,YAEA,EAAwCH,qBAAxC,mBAAOsG,EAAP,KAAqBC,EAArB,KAEAlG,qBAAU,WACRmG,MAAMC,GACH5F,MAAK,SAAC6F,GAAD,OAAOA,EAAEC,UACd9F,MAAK,SAACyF,GACLC,EAAgBD,QAEnB,IAEH,MAMIxC,EAAsB7D,EAAkBe,EAAmBb,GAL7DkE,EADF,EACEA,eAEAgB,EAHF,EAGEA,oBAKF,OACE,+BACE,eAACuB,EAAD,WACE,cAAC5E,EAAA,EAAD,CAAYK,UAAW,KAAM+D,QAAS,KAAtC,0CAICf,EACC,cAAC,EAAD,CAAQjC,OAAO,QAAf,SAAwB,+BAExB,gCACE,cAACyD,EAAD,UACE,sBAAMC,KAAM,WAAZ,SACGR,GAAgB,cAAC,EAAD,CAAQlD,OAAO,cAGpC,cAAC,EAAD,CAAQN,QAASuB,EAAjB,qCAUNuC,EAAc1D,YAAO6D,IAAP7D,CAAc,CAChC8D,QAAS,SAGLH,EAAgB3D,YAAO,MAAPA,CAAc,CAClCQ,OAAQ,aACRuD,UAAW,OACXC,gBAAiB,UACjBF,QAAS,OACTG,aAAc,MACdC,OAAQ,sB,SCuBKC,OAzFf,SACEpH,EACAe,EACAb,EACAgE,GAEA,MAA8CnE,qBAA9C,mBAAOsH,EAAP,KAAwBC,EAAxB,KACA,EAA8BvH,qBAA9B,mBAAOwH,EAAP,KAAgBC,EAAhB,KAGApH,qBAAU,WACR,GAAIW,GAAqBmD,EAAiB,CACxC,IAAMmD,EAAkB,IAAIrH,EAAiBU,IAAI2D,SAC/CC,EAAoBC,IACpBL,GAEFoD,EAAmBD,GAGrB,OAAO,WACLC,OAED,CAACvG,EAAmBf,EAAkBkE,IAGzC,IAAMuD,EAAgBC,sBAAW,sBAAC,4BAAAjH,EAAA,0DAC5B4G,EAD4B,0CAGNA,EAAgBM,QAAQJ,UAAUK,OAH5B,OAGtBL,EAHsB,OAI5BC,EAAWD,GAJiB,gDAO5BD,IAP4B,yDAU/B,CAACD,IAEJjH,qBAAU,WACRqH,MACC,CAACA,IAEJ,IAAMI,EAAmBH,uBAAY,WAC/BL,GACFA,EAAgBM,QAAQG,YAAYnD,KAAK,CACvCC,KAAM1E,MAGT,CAACmH,EAAiBnH,IAEf6H,EAAmBL,uBAAY,WAC/BL,GACFA,EAAgBM,QAAQK,YAAYrD,KAAK,CACvCC,KAAM1E,MAGT,CAACmH,EAAiBnH,IAEf+H,EAAeP,uBAAY,WAC3BL,GACFA,EAAgBM,QAAQO,QAAQvD,KAAK,CACnCC,KAAM1E,MAGT,CAACmH,EAAiBnH,IAGrBE,qBAAU,WACJiH,GACFA,EAAgBc,OAAOC,iBAAiBtH,GAAG,QAAQ,WACjD2G,SAGH,CAACJ,EAAiBI,IAErB,IAAMY,IAA6BnE,IAAoBmD,EACjDiB,EAAkB,UAAMpH,+BAAN,oBAAqDgD,GAC7E,MAAO,CACLqD,UACAE,gBAEAI,mBACAE,mBACAE,eAEAI,2BACAC,uBC5EWC,OAVf,YAAuC,IAAbhD,EAAY,EAAZA,SACxB,OACE,8BACE,cAACxD,EAAA,EAAD,CAAYoE,QAAQ,KAAK/D,UAAU,OAAnC,SACGmD,OCmJMiD,OAvIf,YAA6E,IAArDxI,EAAoD,EAApDA,iBAAkBe,EAAkC,EAAlCA,kBAAmBb,EAAe,EAAfA,YAC3D,EAAwCuI,cAAxC,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAwD5I,oBACtD,kBACE2I,EAAaE,IAAI,oBACjB1H,gDAHJ,mBAAO2H,EAAP,KAA6BC,EAA7B,KAOA,EAA8C/I,mBAAS,IAAvD,mBAAOmE,EAAP,KAAwBC,EAAxB,KAEA,EAOIiD,GACFpH,EACAe,EACAb,EACAgE,GAVAqD,EADF,EACEA,QACAM,EAFF,EAEEA,iBACAE,EAHF,EAGEA,iBACAE,EAJF,EAIEA,aACAI,EALF,EAKEA,yBACAC,EANF,EAMEA,mBA8BF,OArBAlI,qBAAU,WACR,IAAM8D,EAAkBwE,EAAaE,IAAI,mBAErC1E,GACF4E,EAAwB5E,KAEzB,CAACwE,IAEJtI,qBAAU,aAEJyI,IAAF,OACA7I,QADA,IACAA,OADA,EACAA,EAAkB+I,MAAMC,UAAUH,MAGlCF,EAAgB,CAAEzE,gBAAiB2E,IACnC1E,EAAmB0E,MAEpB,CAACA,EAAsB7I,EAAkB2I,IAK1C,gCACE,eAACM,GAAD,WACE,cAACC,EAAA,EAAD,CACEC,MAAON,EACPO,SAAU,SAACC,GACT,IAAMF,EAAQE,EAAE7G,OAAO2G,MACvBL,EAAwBK,IAE1BG,GAAG,yBACHC,MAAM,mBACNpD,QAAQ,WACRqD,WAAS,IAGX,eAACC,GAAD,sEAC2D,IACzD,cAACC,GAAD,CAAoBC,GAAIhG,EAAxB,oCAMJ,+BACG0E,EACC,sDAEAnE,GACE,eAAC0F,GAAD,CAAwBC,UAAW,EAAnC,UACE,cAAC9H,EAAA,EAAD,CAAYK,UAAW,KAAM+D,QAAS,KAAM2D,cAAY,EAAxD,8BAKA,cAAC/H,EAAA,EAAD,CAAYK,UAAW,KAAM+D,QAAS,KAAM2D,cAAY,EAAxD,SACE,eAAC9H,EAAA,EAAD,CACEC,UAAU,MACVC,WAAW,SACXoB,eAAe,SACfnB,QAAS,EACTC,UAAU,OALZ,UAOE,cAAC,EAAD,CAAchB,QAAS8C,IAAoB,IAC3C,cAACxC,EAAA,EAAD,CAASC,MAAM,qCAAf,SACE,cAACU,EAAA,EAAD,CACEC,MAAM,UACNF,UAAU,IACVG,KAAM+F,EACN,aAAW,qCACX9F,OAAO,SACPC,IAAI,WACJC,MAAO,CAAEC,WAAY,GAPvB,SASE,cAAC,IAAD,CAAcC,SAAS,cAG3B,cAAClB,EAAA,EAAD,CAASC,MAAM,qCAAf,SACE,cAACU,EAAA,EAAD,CACEC,MAAM,UACN,aAAW,qCACXI,MAAO,CAAEC,WAAY,GACrBE,QAAS,kBACPC,UAAUC,UAAUC,UAAUkB,IALlC,SAQE,cAAC,IAAD,CAAiBtB,SAAS,mBAOlC,cAAC,GAAD,UAAiB2E,IAGjB,gCACE,cAACrB,EAAA,EAAD,CAAQrD,QAASkF,EAAjB,uBACA,cAAC7B,EAAA,EAAD,CAAQrD,QAASoF,EAAjB,mBACA,cAAC/B,EAAA,EAAD,CAAQrD,QAASgF,EAAjB,mCAYVoB,GAAkBhG,YAAO6D,IAAP7D,CAAc,CACpCQ,OAAQ,YACRsD,QAAS,KAGL0C,GAAaxG,YAAOlB,IAAPkB,CAAmB,CACpC8C,UAAW,OACXiB,UAAW,SAGP4C,GAAyB3G,YAAO6D,IAAP7D,CAAc,CAC3CQ,OAAQ,YACRsD,QAAS,KAGL2C,GAAqBzG,YAAO8G,IAAP9G,CAAa,CACtCX,MAAO,wBC/GM0H,OAlDf,WACE,MAKIlK,IAJFE,EADF,EACEA,iBACAe,EAFF,EAEEA,kBACAb,EAHF,EAGEA,YACAe,EAJF,EAIEA,sBAGF,OACE,eAACgJ,GAAD,WACE,cAAC,EAAD,CACEhJ,sBAAuBA,EACvBf,YAAaA,EACba,kBAAmBA,IAGrB,cAACgB,EAAA,EAAD,CAAYK,UAAU,KAAK+D,QAAQ,KAAK2D,cAAY,EAApD,iCAIA,eAAC,IAAD,WACE,cAAC,IAAD,CACEI,KAAMtG,EACNuG,QACE,cAAC,GAAD,CACEnK,iBAAkBA,EAClBe,kBAAmBA,EACnBb,YAAaA,MAKnB,cAAC,IAAD,CACEgK,KAAMvG,EACNwG,QACE,cAAC,EAAD,CACEnK,iBAAkBA,EAClBe,kBAAmBA,EACnBb,YAAaA,MAMnB,cAAC,IAAD,CAAOgK,KAAK,IAAIC,QAAS,cAAC,IAAD,CAAUR,GAAI/F,EAAWwG,SAAS,aAQ7DH,GAAehH,YAAO,MAAPA,CAAc,CACjCQ,OAAQ,mBACRF,SAAU,QACVyD,UAAW,WCzDbqD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,eAACC,EAAA,EAAD,CAAeC,MAAO/K,EAAtB,UAEE,cAACgL,EAAA,EAAD,IACA,cAAC,IAAD,UACE,cAAC,GAAD,WAINC,SAASC,eAAe,W","file":"static/js/main.a791a431.chunk.js","sourcesContent":["import { createTheme } from \"@mui/material/styles\";\n\nconst theme = {\n  palette: {\n    mode: \"dark\",\n  },\n};\n\nconst customMuiTheme = createTheme(theme);\n\nexport default customMuiTheme;\n","import { useState, useEffect } from \"react\";\nimport Web3 from \"web3\";\n\nfunction useMetamask() {\n  const [metamaskInstance, setMetamaskInstance] = useState();\n  const [userAddress, setUserAddress] = useState();\n\n  // Initialize Metamask instance if its present in the browser\n  useEffect(() => {\n    if (!window.ethereum) {\n      return;\n    }\n\n    const metamaskInstance = new Web3(window.ethereum);\n\n    setMetamaskInstance(metamaskInstance);\n  }, []);\n\n  // Load current user address and subscribe to accountsChanged event\n  useEffect(() => {\n    async function loadUserAccount() {\n      metamaskInstance.eth.getAccounts().then((userAddress) => {\n        setUserAddress(userAddress[0]);\n      });\n    }\n\n    if (metamaskInstance) {\n      loadUserAccount();\n\n      // subscribe to accountsChanged event to update the current user address\n      metamaskInstance.currentProvider.on(\"accountsChanged\", () => {\n        loadUserAccount();\n      });\n    }\n  }, [metamaskInstance]);\n\n  const isMetamaskDefined =\n    metamaskInstance?.currentProvider.isMetaMask && !!userAddress;\n\n  const userAddressDetailsUrl = `${process.env.REACT_APP_ETHERSCAN_URL}/address/${userAddress}`;\n\n  return {\n    metamaskInstance,\n    userAddress,\n    isMetamaskDefined,\n    userAddressDetailsUrl,\n  };\n}\n\nexport default useMetamask;\n","import { useMemo } from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\nfunction AddressLabel({ address }) {\n  const addressLabel = useMemo(() => {\n    if (address) {\n      const firstPart = address.slice(0, 6);\n      const lastPart = address.slice(42 - 6);\n\n      return `${firstPart}...${lastPart}`;\n    }\n\n    return address;\n  }, [address]);\n\n  return (\n    <Tooltip title={address}>\n      <span>{addressLabel}</span>\n    </Tooltip>\n  );\n}\n\nexport default AddressLabel;\n","import AppBar from \"@mui/material/AppBar\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Stack from \"@mui/material/Stack\";\nimport { styled } from \"@mui/system\";\nimport IosShareIcon from \"@mui/icons-material/IosShare\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\n\nimport AddressLabel from \"./AddressLabel\";\n\nfunction Header({ userAddress, userAddressDetailsUrl, isMetamaskDefined }) {\n  return (\n    <HeaderContainer>\n      <StyledToolbar>\n        {isMetamaskDefined ? (\n          <Typography>\n            <Stack\n              direction=\"row\"\n              alignItems=\"center\"\n              spacing={2}\n              component=\"span\"\n            >\n              <AddressLabel address={userAddress} />{\" \"}\n              <Tooltip title=\"Show your address details on Etherscan\">\n                <IconButton\n                  color=\"primary\"\n                  aria-label=\"Show your address details on Etherscan\"\n                  component=\"a\"\n                  href={userAddressDetailsUrl}\n                  target=\"_blank\"\n                  rel=\"noopener\"\n                  style={{ marginLeft: 0 }}\n                >\n                  <IosShareIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Copy your address to clipboard\">\n                <IconButton\n                  color=\"primary\"\n                  aria-label=\"Copy your address to clipboard\"\n                  style={{ marginLeft: 0 }}\n                  onClick={() => navigator.clipboard.writeText(userAddress)}\n                >\n                  <ContentCopyIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            </Stack>\n          </Typography>\n        ) : (\n          \"Install Metamask First TODO: LINK\"\n        )}\n      </StyledToolbar>\n    </HeaderContainer>\n  );\n}\n\nexport default Header;\n\nconst HeaderContainer = styled(AppBar)({\n  height: \"64px\",\n});\n\nconst StyledToolbar = styled(Toolbar)({\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  maxWidth: \"1200px\",\n  width: \"100%\",\n  margin: \"0 auto\",\n});\n","export default __webpack_public_path__ + \"static/media/Counter.47467aab.sol\";","const BASE_PATHNAME = process.env.PUBLIC_URL;\n\nexport const DEPLOY_CONTRACT_PATH = `${BASE_PATHNAME}/deploy-contract`;\nexport const HOME_PATH = `${BASE_PATHNAME}/`;\n","import { useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport CounterContractJSON from \"../artifacts/src/contracts/Counter.sol/Counter.json\";\nimport { HOME_PATH } from \"../routes/routes\";\n\nfunction useContractDeployment(\n  metamaskInstance,\n  isMetamaskDefined,\n  userAddress\n) {\n  const navigate = useNavigate();\n  const [transactionDeploymentHash, setTransactionDeploymentHash] = useState();\n  const [contractAddress, setContractAddress] = useState();\n\n  const deployContract = () => {\n    if (isMetamaskDefined) {\n      const newCounterContract = new metamaskInstance.eth.Contract(\n        CounterContractJSON.abi\n      );\n      newCounterContract\n        .deploy({\n          data: CounterContractJSON.bytecode,\n        })\n        .send({\n          from: userAddress,\n        })\n        .on(\"error\", function (error) {\n          console.log(\"Error: \", error);\n        })\n        .on(\"transactionHash\", function (transactionDeploymentHash) {\n          console.log(\"transactionDeploymentHash: \", transactionDeploymentHash);\n          setTransactionDeploymentHash(transactionDeploymentHash);\n        })\n        .on(\"receipt\", function (receipt) {\n          console.log(receipt.contractAddress); // contains the new contract address\n          setContractAddress(receipt.contractAddress);\n        })\n        .on(\"confirmation\", function (confirmationNumber, receipt) {\n          console.log(\"confirmationNumber: \", confirmationNumber);\n        })\n        .then(function (newContractInstance) {\n          console.log(newContractInstance.options.address); // instance with the new contract address\n          setTransactionDeploymentHash();\n          setContractAddress(newContractInstance.options.address);\n          navigate(\n            `${HOME_PATH}?contractAddress=${newContractInstance.options.address}`\n          );\n        });\n    }\n  };\n\n  const isDeploymentLoading = !!transactionDeploymentHash;\n\n  const transactionDeploymentUrl = `${process.env.REACT_APP_ETHERSCAN_URL}/tx/${transactionDeploymentHash}`;\n\n  return {\n    deployContract,\n    transactionDeploymentHash,\n    isDeploymentLoading,\n    contractAddress,\n    transactionDeploymentUrl,\n  };\n}\n\nexport default useContractDeployment;\n","import CircularProgress from \"@mui/material/CircularProgress\";\nimport { styled } from \"@mui/system\";\n\nfunction Loader({ height, children }) {\n  return (\n    <LoaderContainer height={height}>\n      <CircularProgress />\n      {children ? <LabelContainer>{children}</LabelContainer> : null}\n    </LoaderContainer>\n  );\n}\n\nexport default Loader;\n\nconst LoaderContainer = styled(\"div\", {\n  shouldForwardProp: (prop) => prop !== \"height\",\n})((props) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  height: props.height,\n  flexDirection: \"column\",\n}));\n\nconst LabelContainer = styled(\"div\")({\n  marginTop: \"16px\",\n});\n","import ButtonMui from \"@mui/material/Button\";\nimport { styled } from \"@mui/system\";\n\nconst StyledButton = styled(ButtonMui)({\n  margin: 8,\n});\n\nfunction Button({ onClick, children }) {\n  return (\n    <StyledButton onClick={onClick} variant=\"contained\">\n      {children}\n    </StyledButton>\n  );\n}\n\nexport default Button;\n","import { useEffect, useState } from \"react\";\nimport Paper from \"@mui/material/Paper\";\nimport { styled } from \"@mui/system\";\n\nimport contractFile from \"../contracts/Counter.sol\";\nimport useContractDeployment from \"../hooks/useContractDeployment\";\nimport Loader from \"../components/Loader\";\nimport Button from \"../components/Button\";\nimport { Typography } from \"@mui/material\";\n\nfunction DeployContractPage({\n  metamaskInstance,\n  isMetamaskDefined,\n  userAddress,\n}) {\n  const [contractCode, setContractCode] = useState();\n\n  useEffect(() => {\n    fetch(contractFile)\n      .then((r) => r.text())\n      .then((contractCode) => {\n        setContractCode(contractCode);\n      });\n  }, []);\n\n  const {\n    deployContract,\n    // transactionDeploymentHash,\n    isDeploymentLoading,\n    // contractAddress,\n    // transactionDeploymentUrl,\n  } = useContractDeployment(metamaskInstance, isMetamaskDefined, userAddress);\n\n  return (\n    <main>\n      <StyledPaper>\n        <Typography component={\"h2\"} variant={\"h5\"}>\n          Deploy your Counter Contract\n        </Typography>\n\n        {isDeploymentLoading ? (\n          <Loader height=\"300px\">{\"Deploying your contract...\"}</Loader>\n        ) : (\n          <div>\n            <CodeContainer>\n              <code lang={\"solidity\"}>\n                {contractCode || <Loader height=\"300px\" />}\n              </code>\n            </CodeContainer>\n            <Button onClick={deployContract}>Deploy Counter</Button>\n          </div>\n        )}\n      </StyledPaper>\n    </main>\n  );\n}\n\nexport default DeployContractPage;\n\nconst StyledPaper = styled(Paper)({\n  padding: \"16px\",\n});\n\nconst CodeContainer = styled(\"pre\")({\n  margin: \"16px auto;\",\n  textAlign: \"left\",\n  backgroundColor: \"#001e3c\",\n  padding: \"16px\",\n  borderRadius: \"4px\",\n  border: \"1px solid #132f4c\",\n});\n","import { useCallback, useEffect, useState } from \"react\";\nimport CounterContractJSON from \"../artifacts/src/contracts/Counter.sol/Counter.json\";\n\nfunction useCounterContract(\n  metamaskInstance,\n  isMetamaskDefined,\n  userAddress,\n  contractAddress\n) {\n  const [counterContract, setCounterContract] = useState();\n  const [counter, setCounter] = useState();\n\n  // load your selected Contract (based on contract address and ABI)\n  useEffect(() => {\n    if (isMetamaskDefined && contractAddress) {\n      const counterContract = new metamaskInstance.eth.Contract(\n        CounterContractJSON.abi,\n        contractAddress\n      );\n      setCounterContract(counterContract);\n    }\n\n    return () => {\n      setCounterContract();\n    };\n  }, [isMetamaskDefined, metamaskInstance, contractAddress]);\n\n  // update counter with the current value\n  const updateCounter = useCallback(async () => {\n    if (counterContract) {\n      try {\n        const counter = await counterContract.methods.counter().call();\n        setCounter(counter);\n      } catch (e) {\n        // TODO: ADD SMART CONTRACT ERROR\n        setCounterContract();\n      }\n    }\n  }, [counterContract]);\n\n  useEffect(() => {\n    updateCounter();\n  }, [updateCounter]);\n\n  const incrementCounter = useCallback(() => {\n    if (counterContract) {\n      counterContract.methods.increment().send({\n        from: userAddress,\n      });\n    }\n  }, [counterContract, userAddress]);\n\n  const decrementCounter = useCallback(() => {\n    if (counterContract) {\n      counterContract.methods.decrement().send({\n        from: userAddress,\n      });\n    }\n  }, [counterContract, userAddress]);\n\n  const resetCounter = useCallback(() => {\n    if (counterContract) {\n      counterContract.methods.reset().send({\n        from: userAddress,\n      });\n    }\n  }, [counterContract, userAddress]);\n\n  // subscribe to CounterChanged event to update counter\n  useEffect(() => {\n    if (counterContract) {\n      counterContract.events.CounterChanged().on(\"data\", () => {\n        updateCounter();\n      });\n    }\n  }, [counterContract, updateCounter]);\n\n  const isCounterContractLoading = !!contractAddress && !counterContract;\n  const contractDetailsUrl = `${process.env.REACT_APP_ETHERSCAN_URL}/address/${contractAddress}`;\n  return {\n    counter,\n    updateCounter,\n\n    incrementCounter,\n    decrementCounter,\n    resetCounter,\n\n    isCounterContractLoading,\n    contractDetailsUrl,\n  };\n}\n\nexport default useCounterContract;\n","import Typography from \"@mui/material/Typography\";\n\nfunction CounterDisplay({ children }) {\n  return (\n    <div>\n      <Typography variant=\"h2\" component=\"span\">\n        {children}\n      </Typography>\n    </div>\n  );\n}\n\nexport default CounterDisplay;\n","import { useEffect, useState } from \"react\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport TextField from \"@mui/material/TextField\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from \"@mui/material/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Stack from \"@mui/material/Stack\";\nimport { styled } from \"@mui/system\";\nimport IosShareIcon from \"@mui/icons-material/IosShare\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\n\nimport { DEPLOY_CONTRACT_PATH } from \"./routes\";\nimport useCounterContract from \"../hooks/useCounterContract\";\nimport CounterDisplay from \"../components/CounterDisplay\";\nimport AddressLabel from \"../components/AddressLabel\";\n\nfunction ContractPage({ metamaskInstance, isMetamaskDefined, userAddress }) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [contractAddressInput, setContractAddressInput] = useState(\n    () =>\n      searchParams.get(\"contractAddress\") ||\n      process.env.REACT_APP_CONTRACT_ADDRESS ||\n      \"\"\n  );\n\n  const [contractAddress, setContractAddress] = useState(\"\");\n\n  const {\n    counter,\n    incrementCounter,\n    decrementCounter,\n    resetCounter,\n    isCounterContractLoading,\n    contractDetailsUrl,\n  } = useCounterContract(\n    metamaskInstance,\n    isMetamaskDefined,\n    userAddress,\n    contractAddress\n  );\n\n  // if an address is present in the query we update the input\n  useEffect(() => {\n    const contractAddress = searchParams.get(\"contractAddress\");\n\n    if (contractAddress) {\n      setContractAddressInput(contractAddress);\n    }\n  }, [searchParams]);\n\n  useEffect(() => {\n    const isValidAddress =\n      !!contractAddressInput &&\n      metamaskInstance?.utils.isAddress(contractAddressInput);\n\n    if (isValidAddress) {\n      setSearchParams({ contractAddress: contractAddressInput });\n      setContractAddress(contractAddressInput);\n    }\n  }, [contractAddressInput, metamaskInstance, setSearchParams]);\n\n  // TODO: ADD ERROR IN THE TEXT FIELD\n  // TODO: ADD ERROR IN THE SMART CONTRACT LOAD\n  return (\n    <div>\n      <StyledContainer>\n        <TextField\n          value={contractAddressInput}\n          onChange={(e) => {\n            const value = e.target.value;\n            setContractAddressInput(value);\n          }}\n          id=\"contract-address-field\"\n          label=\"Contract Address\"\n          variant=\"standard\"\n          fullWidth\n        />\n\n        <StyledText>\n          Or you can Deploy your own Counter Smart Contract in the{\" \"}\n          <StyledInternalLink to={DEPLOY_CONTRACT_PATH}>\n            Deployment Page.\n          </StyledInternalLink>\n        </StyledText>\n      </StyledContainer>\n\n      <main>\n        {isCounterContractLoading ? (\n          <div>Loading contract...</div>\n        ) : (\n          contractAddress && (\n            <StyledCounterContainer elevation={4}>\n              <Typography component={\"h2\"} variant={\"h4\"} gutterBottom>\n                Counter Contract\n              </Typography>\n\n              {/* Contract Address */}\n              <Typography component={\"h3\"} variant={\"h6\"} gutterBottom>\n                <Stack\n                  direction=\"row\"\n                  alignItems=\"center\"\n                  justifyContent=\"center\"\n                  spacing={2}\n                  component=\"span\"\n                >\n                  <AddressLabel address={contractAddress} />{\" \"}\n                  <Tooltip title=\"Show contract details on Etherscan\">\n                    <IconButton\n                      color=\"primary\"\n                      component=\"a\"\n                      href={contractDetailsUrl}\n                      aria-label=\"Show contract details on Etherscan\"\n                      target=\"_blank\"\n                      rel=\"noopener\"\n                      style={{ marginLeft: 0 }}\n                    >\n                      <IosShareIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                  <Tooltip title=\"Copy contract address to clipboard\">\n                    <IconButton\n                      color=\"primary\"\n                      aria-label=\"Copy contract address to clipboard\"\n                      style={{ marginLeft: 0 }}\n                      onClick={() =>\n                        navigator.clipboard.writeText(contractAddress)\n                      }\n                    >\n                      <ContentCopyIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                </Stack>\n              </Typography>\n\n              {/* Current Counter State */}\n              <CounterDisplay>{counter}</CounterDisplay>\n\n              {/* Contract Functions */}\n              <div>\n                <Button onClick={decrementCounter}>Decrement</Button>\n                <Button onClick={resetCounter}>Reset</Button>\n                <Button onClick={incrementCounter}>Increment</Button>\n              </div>\n            </StyledCounterContainer>\n          )\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default ContractPage;\n\nconst StyledContainer = styled(Paper)({\n  margin: \"24px auto\",\n  padding: 24,\n});\n\nconst StyledText = styled(Typography)({\n  marginTop: \"16px\",\n  textAlign: \"left\",\n});\n\nconst StyledCounterContainer = styled(Paper)({\n  margin: \"24px auto\",\n  padding: 16,\n});\n\nconst StyledInternalLink = styled(Link)({\n  color: \"rgb(102, 178, 255);\",\n});\n","import { Routes, Route, Navigate } from \"react-router-dom\";\nimport { styled } from \"@mui/system\";\n\nimport useMetamask from \"./hooks/useMetamask\";\nimport Header from \"./components/Header\";\nimport DeployContractPage from \"./routes/DeployContractPage\";\nimport { DEPLOY_CONTRACT_PATH, HOME_PATH } from \"./routes/routes\";\nimport { Typography } from \"@mui/material\";\nimport ContractPage from \"./routes/ContractPage\";\n\nfunction App() {\n  const {\n    metamaskInstance,\n    isMetamaskDefined,\n    userAddress,\n    userAddressDetailsUrl,\n  } = useMetamask();\n\n  return (\n    <AppContainer>\n      <Header\n        userAddressDetailsUrl={userAddressDetailsUrl}\n        userAddress={userAddress}\n        isMetamaskDefined={isMetamaskDefined}\n      />\n\n      <Typography component=\"h1\" variant=\"h2\" gutterBottom>\n        Counter in Solidity\n      </Typography>\n\n      <Routes>\n        <Route\n          path={HOME_PATH}\n          element={\n            <ContractPage\n              metamaskInstance={metamaskInstance}\n              isMetamaskDefined={isMetamaskDefined}\n              userAddress={userAddress}\n            />\n          }\n        />\n\n        <Route\n          path={DEPLOY_CONTRACT_PATH}\n          element={\n            <DeployContractPage\n              metamaskInstance={metamaskInstance}\n              isMetamaskDefined={isMetamaskDefined}\n              userAddress={userAddress}\n            />\n          }\n        />\n\n        {/* Unknown routes redirects to the home page */}\n        <Route path=\"*\" element={<Navigate to={HOME_PATH} replace={true} />} />\n      </Routes>\n    </AppContainer>\n  );\n}\n\nexport default App;\n\nconst AppContainer = styled(\"div\")({\n  margin: \"82px auto 0 auto\",\n  maxWidth: \"700px\",\n  textAlign: \"center\",\n});\n","import { CssBaseline, ThemeProvider } from \"@mui/material\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport customMuiTheme from \"./theme/theme\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={customMuiTheme}>\n      {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n      <CssBaseline />\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}